shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
y <- highested_data[(highested_data$country == "United States"),]
y$region <- as.character(y$region)
y$country <- as.character(y$country)
y <-melt(y[, c('country','Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')], id.vars = 6)
wvs_c <- read.csv("./wvs_c")
wvs_table <- read.csv("./wvs_table")
wvs_c <- wvs_c[, -1]
wvs_table <- wvs_table[, -1]
## for server.R
gender <- wvs_table[,c(2, 4:6)]
highested <- wvs_table[,c(2, 4, 12:17)]
highested_data <- highested[complete.cases(highested),]
colnames(highested_data) <- c("region", "country", "Primary", "Secondary.incomplete", "Secondary.vocational",
"Secondary.preparatory", "Tertiary.incomplete", "Tertiary")
y <- highested_data[(highested_data$country == "United States"),]
y$region <- as.character(y$region)
y$country <- as.character(y$country)
y <-melt(y[, c('country','Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')], id.vars = 6)
y <- highested_data[(highested_data$country == "United States"),]
y$region <- as.character(y$region)
y$country <- as.character(y$country)
y <-melt(y[, c('country','Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')], id.vars = 1)
View(y)
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
str(x)
wvs_c <- read.csv("./wvs_c")
wvs_table <- read.csv("./wvs_table")
wvs_c <- wvs_c[, -1]
wvs_table <- wvs_table[, -1]
## for server.R
gender <- wvs_table[,c(2, 4:6)]
highested <- wvs_table[,c(2, 4, 12:17)]
highested_data <- highested[complete.cases(highested),]
colnames(highested_data) <- c("region", "country", "Primary", "Secondary.incomplete", "Secondary.vocational",
"Secondary.preparatory", "Tertiary.incomplete", "Tertiary")
str(gender)
str(highested_data)
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
wvs_c <- read.csv("./wvs_c")
wvs_table <- read.csv("./wvs_table")
wvs_c <- wvs_c[, -1]
wvs_table <- wvs_table[, -1]
for server.R
gender <- wvs_table[,c(2, 4:6)]
highested <- wvs_table[,c(2, 4, 12:17)]
highested_data <- highested[complete.cases(highested),]
colnames(highested_data) <- c("region", "country", "Primary", "Secondary.incomplete", "Secondary.vocational",
"Secondary.preparatory", "Tertiary.incomplete", "Tertiary")
a <-data.matrix(wvs_table[, c(3, 5:17)], rownames.force = NA)
a <- sprintf("%.1f %%", 100*as.numeric(a))
b <- data.frame(matrix(unlist(x), nrow=85, byrow=T))
b <- data.frame(matrix(unlist(a), nrow=85, byrow=T))
View(b)
View(wvs_table)
a <- sprintf("%.1f %%", 100*as.numeric(data.matrix(wvs_table[, c(3, 5:17)], rownames.force = NA))))
a <- sprintf("%.1f %%", 100*as.numeric(data.matrix(wvs_table[, c(3, 5:17)], rownames.force = NA)))
wvs_table[, -5:17]
wvs_table[, -c(5:17)]
wvs_table<- wvs_table[, -c(5:17)]
View(wvs_table)
setwd("/Users/peggyfan/Downloads/R_data")
wvs <- read.csv("./wvs.csv")
library(rworldmap)
library(countrycode)
library(plyr)
library(reshape2)
wvs_c <- as.data.frame(ddply(wvs, .(iso3, region), summarise, participation=mean(participation)))
code.origin <- wvs_c$iso3
wvs_c$country <- countrycode(code.origin, "iso3c", "country.name")
gender <- ddply(wvs, .(iso3, female), summarise, participation=mean(participation))
gender1 <- dcast(gender, iso3~female, value.var="participation")
ses <- ddply(wvs, .(iso3, social_class), summarise, participation=mean(participation))
ses1 <- dcast(ses, iso3~social_class, value.var="participation")
he <- ddply(wvs, .(iso3, highested), summarise, participation=mean(participation))
he1 <- dcast(he, iso3~highested, value.var="participation")
he1 <- he1[,-8]
wvs_c <- data.frame(wvs_c, cbind(gender1[,2:3], ses1[2:6], he1[,2:7]))
colnames(wvs_c) <- c("iso3", "region", "participation","country", "male", "female", "lower class", "working class", "lower middle class",
"upper middle class", "upper class", "primary education", "secondary incomplete",
"secondary vocational", "secondary preparatory", "tertiary incomplete", "tertiary")
wvs_c$region[wvs_c$region==1] <- "region1"
wvs_c$region[wvs_c$region==2] <- "region2"
wvs_c$region[wvs_c$region==3] <- "region3"
wvs_c$region[wvs_c$region==4] <- "region4"
wvs_c$region[wvs_c$region==5] <- "region5"
wvs_c$region[wvs_c$region==6] <- "region6"
wvs_c$region[wvs_c$region==7] <- "region7"
write.csv(wvs_c, file="wvs_c")
wvs_table <- wvs_c
wvs_table[, c(3, 5:17)] <- round(wvs_c[, c(3, 5:17)], digits=2)
a <- sprintf("%.1f %%", 100*as.numeric(data.matrix(wvs_table[, c(5:17)], rownames.force = NA)))
wvs_table<- wvs_table[, -c(5:17)]
wvs_table <- cbind(wvs_c, data.frame(matrix(unlist(a), nrow=85, byrow=T)))
View(wvs_table)
wvs_table <- wvs_c
wvs_table[, c(3, 5:17)] <- round(wvs_c[, c(3, 5:17)], digits=2)
View(wvs_table)
wvs_table<- wvs_table[, -c(5:17)]
View(wvs_table)
wvs_table <- wvs_c
name_data <- names(wvs_c)
a <- sprintf("%.1f %%", 100*as.numeric(data.matrix(wvs_table[, c(5:17)], rownames.force = NA)))
wvs_table<- wvs_table[, -c(5:17)]
wvs_table <- cbind(wvs_c, data.frame(matrix(unlist(a), nrow=85, byrow=T)))
View(wvs_table)
wvs_table <- wvs_c
# Create data tables with percentages
wvs_table[, c(3, 5:17)] <- round(wvs_c[, c(3, 5:17)], digits=2)
View(wvs_table)
a <- sprintf("%.1f %%", 100*as.numeric(data.matrix(wvs_table[, c(5:17)], rownames.force = NA)))
a <- data.frame(matrix(unlist(a), nrow=85, byrow=T)))
a <- data.frame(matrix(unlist(a), nrow=85, byrow=T))
View(a)
wvs_table<- wvs_table[, -c(5:17)]
wvs_table <- cbind(wvs_table, data.frame(matrix(unlist(a), nrow=85, byrow=T)))
View(wvs_table)
write.csv(wvs_table, file="wvs_table")
View(wvs_table)
wvs_table <- (, c(name_data))
names(wvs_table) <- (name_data)
View(wvs_table)
write.csv(wvs_table, file="wvs_table")
shiny::runApp('Developing_data_products')
wvs_c <- read.csv("./wvs_c")
str(wvs_c)
shiny::runApp('Developing_data_products')
setwd("/Users/peggyfan/Downloads/R_data")
wvs <- read.csv("./wvs.csv")
library(rworldmap)
library(countrycode)
library(plyr)
library(reshape2)
wvs_c <- as.data.frame(ddply(wvs, .(iso3, region), summarise, participation=mean(participation)))
code.origin <- wvs_c$iso3
wvs_c$country <- countrycode(code.origin, "iso3c", "country.name")
gender <- ddply(wvs, .(iso3, female), summarise, participation=mean(participation))
gender1 <- dcast(gender, iso3~female, value.var="participation")
ses <- ddply(wvs, .(iso3, social_class), summarise, participation=mean(participation))
ses1 <- dcast(ses, iso3~social_class, value.var="participation")
he <- ddply(wvs, .(iso3, highested), summarise, participation=mean(participation))
he1 <- dcast(he, iso3~highested, value.var="participation")
he1 <- he1[,-8]
wvs_c <- data.frame(wvs_c, cbind(gender1[,2:3], ses1[2:6], he1[,2:7]))
colnames(wvs_c) <- c("iso3", "region", "participation","country", "male", "female", "lower class", "working class", "lower middle class",
"upper middle class", "upper class", "primary education", "secondary incomplete",
"secondary vocational", "secondary preparatory", "tertiary incomplete", "tertiary")
wvs_c$region[wvs_c$region==1] <- "region1"
wvs_c$region[wvs_c$region==2] <- "region2"
wvs_c$region[wvs_c$region==3] <- "region3"
wvs_c$region[wvs_c$region==4] <- "region4"
wvs_c$region[wvs_c$region==5] <- "region5"
wvs_c$region[wvs_c$region==6] <- "region6"
wvs_c$region[wvs_c$region==7] <- "region7"
write.csv(wvs_c, file="wvs_c")
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
str(wvs_c)
wvs_table <- wvs_c
name_data <- names(wvs_table)
# Create data tables with percentages
wvs_table[, c(3, 5:17)] <- round(wvs_c[, c(3, 5:17)], digits=2)
a <- sprintf("%.1f %%", 100*as.numeric(data.matrix(wvs_table[, c(5:17)], rownames.force = NA)))
wvs_table<- wvs_table[, -c(5:17)]
wvs_table <- cbind(wvs_table, data.frame(matrix(unlist(a), nrow=85, byrow=T)))
names(wvs_table) <- (name_data)
write.csv(wvs_table, file="wvs_table")
str(wvs_table)
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
test3<- aggregate(highested_data[, c('Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')],
by = list(as.character(highested_data$region)), function(x) c(mean=mean(x)))
Where server.R starts
wvs_c <- read.csv("./wvs_c")
wvs_table <- read.csv("./wvs_table")
wvs_c <- wvs_c[, -1]
wvs_table <- wvs_table[, -1]
gender <- wvs_table[,c(2, 4:6)]
highested <- wvs_table[,c(2, 4, 12:17)]
highested_data <- highested[complete.cases(highested),]
colnames(highested_data) <- c("region", "country", "Primary", "Secondary.incomplete", "Secondary.vocational",
"Secondary.preparatory", "Tertiary.incomplete", "Tertiary")
# for gend
library(plyr)
# regional sum grpah
library(reshape)
# regional sum graph
test3<- aggregate(highested_data[, c('Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')],
by = list(as.character(highested_data$region)), function(x) c(mean=mean(x)))
View(test3)
warnings()
View(highested_data)
View(highested_data)
## for server.R
gender <- wvs[,c(2, 4:6)]
highested <- wvs[,c(2, 4, 12:17)]
highested_data <- highested[complete.cases(highested),]
colnames(highested_data) <- c("region", "country", "Primary", "Secondary.incomplete", "Secondary.vocational",
"Secondary.preparatory", "Tertiary.incomplete", "Tertiary")
test3<- aggregate(highested_data[, c('Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')],
by = list(as.character(highested_data$region)), function(x) c(mean=mean(x)))
View(test3)
gender <- wvs_c[,c(2, 4:6)]
highested <- wvs_c[,c(2, 4, 12:17)]
highested_data <- highested[complete.cases(highested),]
colnames(highested_data) <- c("region", "country", "Primary", "Secondary.incomplete", "Secondary.vocational",
"Secondary.preparatory", "Tertiary.incomplete", "Tertiary")
test3<- aggregate(highested_data[, c('Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')],
by = list(as.character(highested_data$region)), function(x) c(mean=mean(x)))
View(test3)
colnames(test3)[1] <- "region"
test3 <- melt(test3[, c('region','Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')], id.vars = 1)
test3$region[test3$region=="region1"] <- "North America & Western Europe"
test3$region[test3$region=="region2"] <- "Central Europe"
test3$region[test3$region=="region3"] <- "Asia"
test3$region[test3$region=="region4"] <- "Latin American & Caribbean"
test3$region[test3$region=="region5"] <- "Sub-Saharan Africa"
test3$region[test3$region=="region6"] <- "Middle East & North Africa"
test3$region[test3$region=="region7"] <- "Oceania"
d1 <- ggplot(data=test3, aes(x=variable, y=value))
d1 <- d1 + geom_line(aes(group=region, color=region))
d1 <- d1 + geom_point(aes(color=region, shape=region))
d1 <- d1 + labs(y = 'Percent of members', x = 'Highest education level') + ylim(0, 1) + theme(axis.text.x=element_text(angle=-90))
d1
View(highested)
?aggregate
highested_data <- highested
test3<- aggregate(highested_data[, c('Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')],
by = list(as.character(highested_data$region)), function(x) c(mean=mean(x)))
test3<- aggregate(highested_data[, c('Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')],
by = list(as.character(highested_data$region)), function(x) c(mean=mean(x)))
shiny::runApp('Developing_data_products')
y <- highested[(highested$country == "United States"),]
y$region <- as.character(y$region)
y$country <- as.character(y$country)
y <-melt(y[, c('country','Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')], id.vars = 1)
View(y)
View(highested)
y <- highested[(highested$country == "Zimbabwe"),]
y$region <- as.character(y$region)
y$country <- as.character(y$country)
View(y)
y <-melt(y[, c('country','Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')], id.vars = 1)
View(y)
colnames(highested) <- c("region", "country", "Primary", "Secondary.incomplete", "Secondary.vocational",
"Secondary.preparatory", "Tertiary.incomplete", "Tertiary")
y <- highested[(highested$country == "Zimbabwe"),]
y$region <- as.character(y$region)
y$country <- as.character(y$country)
y <-melt(y[, c('country','Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')], id.vars = 1)
View(y)
y1 <- ggplot(data=y, aes(x=variable, y=value))
y1 <- y1 + geom_bar(aes(fill = variable), position="dodge", stat="identity") + scale_fill_manual(values=cbbPalette1)
y1 <- y1 + labs(y = 'Percent of members', x = '') + theme(axis.text.x = element_blank()) + ylim(0, 1) +
theme(legend.title=element_blank())
y1
cbbPalette1 <- c("#F7BE81", "#F79F81", "#82FA58", "#04B486", "#00BFFF", "#01A9DB")
y1 <- ggplot(data=y, aes(x=variable, y=value))
y1 <- y1 + geom_bar(aes(fill = variable), position="dodge", stat="identity") + scale_fill_manual(values=cbbPalette1)
y1 <- y1 + labs(y = 'Percent of members', x = '') + theme(axis.text.x = element_blank()) + ylim(0, 1) +
theme(legend.title=element_blank())
y1
test3<- aggregate(highested[, c('Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')],
by = list(as.character(highested_data$region)), function(x) c(mean=mean(x)))
View(test3)
wvs_c <- read.csv("./wvs_c")
wvs_table <- read.csv("./wvs_table")
wvs_c <- wvs_c[, -1]
wvs_table <- wvs_table[, -1]
## for server.R
gender <- wvs_c[,c(2, 4:6)]
highested <- wvs_c[,c(2, 4, 12:17)]
colnames(highested) <- c("region", "country", "Primary", "Secondary.incomplete", "Secondary.vocational",
"Secondary.preparatory", "Tertiary.incomplete", "Tertiary")
highested_data <- highested[complete.cases(highested),]
View(highested_data)
View(highested)
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
##  Where server.R starts
wvs_c <- read.csv("./wvs_c")
wvs_table <- read.csv("./wvs_table")
wvs_c <- wvs_c[, -1]
wvs_table <- wvs_table[, -1]
## for server.R
gender <- wvs_c[,c(2, 4:6)]
highested <- wvs_c[,c(2, 4, 12:17)]
gender_table <- wvs_table[,c(2, 4:6)]
highested_table  <- wvs_c[,c(2, 4, 12:17)]
colnames(highested) <- c("region", "country", "Primary", "Secondary.incomplete", "Secondary.vocational",
"Secondary.preparatory", "Tertiary.incomplete", "Tertiary")
highested_data <- highested[complete.cases(highested),]
colnames(highested_data) <- c("region", "country", "Primary", "Secondary.incomplete", "Secondary.vocational",
"Secondary.preparatory", "Tertiary.incomplete", "Tertiary")
# for gender
str(highested)
View(highested)
str(highested)
str(gender)
x <- gender[(gender$country== "Albania"),]
x <- melt(x[,c('country','male','female')],id.vars = 1)
x1 <- ggplot(data=x, aes(x=variable, y=value))
x1 <- x1 + geom_bar(aes(fill = variable), position="dodge", stat="identity")
x1 <- x1 + labs(y = 'Percent of members', x = '') + ylim(0, 1)
x1
str(x)
str(y)
y <- highested[(highested$country == "Zimbabwe"),]
y$region <- as.character(y$region)
y$country <- as.character(y$country)
y <-melt(y[, c('country','Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')], id.vars = 1)
str(y)
y <- highested[(highested$country == "Zimbabwe"),]
str(y)
str(x)
y <-melt(y[, c('country','Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')], id.vars = 1)
(y1 <- ggplot(data=y, aes(x=variable, y=value))
y1 <- ggplot(data=y, aes(x=variable, y=value))
y1 <- y1 + geom_bar(aes(fill = variable), position="dodge", stat="identity") + scale_fill_manual(values=cbbPalette1)
y1 <- ggplot(data=y, aes(x=variable, y=value))
y1 <- y1 + geom_bar(aes(fill = variable), position="dodge", stat="identity") + scale_fill_manual(values=cbbPalette1)
y1 <- y1 + labs(y = 'Percent of members', x = '') + theme(axis.text.x = element_blank()) + ylim(0, 1) +
theme(legend.title=element_blank())
y1
cbbPalette1 <- c("#F7BE81", "#F79F81", "#82FA58", "#04B486", "#00BFFF", "#01A9DB")
y1
shiny::runApp('Developing_data_products')
str(highested)
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
shiny::runApp('Developing_data_products')
wvs_c <- read.csv("./wvs_c")
wvs_table <- read.csv("./wvs_table")
wvs_c <- wvs_c[, -1]
wvs_table <- wvs_table[, -1]
## for server.R
gender <- wvs_c[,c(2, 4:6)]
highested <- wvs_c[,c(2, 4, 12:17)]
gender_table <- wvs_table[,c(2, 4:6)]
highested_table  <- wvs_c[,c(2, 4, 12:17)]
wvs_c <- read.csv("./wvs_c")
wvs_table <- read.csv("./wvs_table")
wvs_c <- wvs_c[, -1]
wvs_table <- wvs_table[, -1]
## for server.R
setwd("/Users/peggyfan/Downloads/R_data/Developing_data_products")
wvs_c <- read.csv("./wvs_c")
wvs_table <- read.csv("./wvs_table")
wvs_c <- wvs_c[, -1]
wvs_table <- wvs_table[, -1]
## for server.R
gender <- wvs_c[,c(2, 4:6)]
highested <- wvs_c[,c(2, 4, 12:17)]
gender_table <- wvs_table[,c(2, 4:6)]
highested_table  <- wvs_c[,c(2, 4, 12:17)]
test3<- aggregate(highested_data[, c('Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')],
by = list(as.character(highested_data$region)), function(x) c(mean=mean(x)))
colnames(test3)[1] <- "region"
test3 <- melt(test3[, c('region','Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')], id.vars = 1)
test3$region[test3$region=="region1"] <- "North America & Western Europe"
test3$region[test3$region=="region2"] <- "Central Europe"
test3$region[test3$region=="region3"] <- "Asia"
test3$region[test3$region=="region4"] <- "Latin American & Caribbean"
test3$region[test3$region=="region5"] <- "Sub-Saharan Africa"
test3$region[test3$region=="region6"] <- "Middle East & North Africa"
test3$region[test3$region=="region7"] <- "Oceania"
d1 <- ggplot(data=test3, aes(x=variable, y=value))
d1 <- d1 + geom_line(aes(group=region, color=region))
d1 <- d1 + geom_point(aes(color=region, shape=region))
d1 <- d1 + labs(y = 'Percent of members', x = 'Highest education level') + ylim(0, 1) + theme(axis.text.x=element_text(angle=-90))
d1
colnames(highested) <- c("region", "country", "Primary", "Secondary.incomplete", "Secondary.vocational",
"Secondary.preparatory", "Tertiary.incomplete", "Tertiary")
highested_data <- highested[complete.cases(highested),]
colnames(highested_data) <- c("region", "country", "Primary", "Secondary.incomplete", "Secondary.vocational",
"Secondary.preparatory", "Tertiary.incomplete", "Tertiary")
test3<- aggregate(highested_data[, c('Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')],
by = list(as.character(highested_data$region)), function(x) c(mean=mean(x)))
colnames(test3)[1] <- "region"
test3 <- melt(test3[, c('region','Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')], id.vars = 1)
test3$region[test3$region=="region1"] <- "North America & Western Europe"
test3$region[test3$region=="region2"] <- "Central Europe"
test3$region[test3$region=="region3"] <- "Asia"
test3$region[test3$region=="region4"] <- "Latin American & Caribbean"
test3$region[test3$region=="region5"] <- "Sub-Saharan Africa"
test3$region[test3$region=="region6"] <- "Middle East & North Africa"
test3$region[test3$region=="region7"] <- "Oceania"
d1 <- ggplot(data=test3, aes(x=variable, y=value))
d1 <- d1 + geom_line(aes(group=region, color=region))
d1 <- d1 + geom_point(aes(color=region, shape=region))
d1 <- d1 + labs(y = 'Percent of members', x = 'Highest education level') + ylim(0, 1) + theme(axis.text.x=element_text(angle=-90))
d1
library(rworldmap)
library(countrycode)
library(plyr)
library(reshape)
library(ggplot2)
library(rworldmap)
library(countrycode)
library(plyr)
library(reshape)
library(ggplot2)
test3<- aggregate(highested_data[, c('Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')],
by = list(as.character(highested_data$region)), function(x) c(mean=mean(x)))
colnames(test3)[1] <- "region"
test3 <- melt(test3[, c('region','Primary','Secondary.incomplete','Secondary.vocational'
,'Secondary.preparatory','Tertiary.incomplete','Tertiary')], id.vars = 1)
test3$region[test3$region=="region1"] <- "North America & Western Europe"
test3$region[test3$region=="region2"] <- "Central Europe"
test3$region[test3$region=="region3"] <- "Asia"
test3$region[test3$region=="region4"] <- "Latin American & Caribbean"
test3$region[test3$region=="region5"] <- "Sub-Saharan Africa"
test3$region[test3$region=="region6"] <- "Middle East & North Africa"
test3$region[test3$region=="region7"] <- "Oceania"
d1 <- ggplot(data=test3, aes(x=variable, y=value))
d1 <- d1 + geom_line(aes(group=region, color=region))
d1 <- d1 + geom_point(aes(color=region, shape=region))
d1 <- d1 + labs(y = 'Percent of members', x = 'Highest education level') + ylim(0, 1) + theme(axis.text.x=element_text(angle=-90))
d1
wvs_c <- read.csv("./wvs_c")
View(wvs_c)
test<- aggregate(gender[, c("male", "female")],  by = list(as.character(gender$region)), function(x) c(mean=mean(x)))
colnames(test)[1] <- "region"
test2 <- melt(test[,c('region','male','female')],id.vars = 1)
test2$region[test2$region=="region1"] <- "North America & Western Europe"
test2$region[test2$region=="region2"] <- "Central Europe"
test2$region[test2$region=="region3"] <- "Asia"
test2$region[test2$region=="region4"] <- "Latin American & Caribbean"
test2$region[test2$region=="region5"] <- "Sub-Saharan Africa"
test2$region[test2$region=="region6"] <- "Middle East & North Africa"
test2$region[test2$region=="region7"] <- "Oceania"
cbbPalette <- c("#01DFD7", "#F78181")
d <- ggplot(data=test2, aes(x=region, y=value))
d <- d + geom_bar(aes(fill = variable), position="dodge", stat="identity") + scale_fill_manual(values=cbbPalette)
d <- d + theme(axis.text.x=element_text(angle=-90)) + labs(y = 'Percent of members', x = '') + ylim(0, 1)
d
publish_github(PeggyFan, shinyapp)
publish_github("PeggyFan", "shinyapp")
setwd("/Users/peggyfan/Downloads/R_data/Developing_data_products/first_deck")
publish_github("PeggyFan", "shinyapp")
slidify("index.Rmd")
library(slidify)
slidify("index.Rmd")
publish_github("PeggyFan", "shinyapp")
publish_github("shinyapp", "PeggyFan")
publish_github("shinyapp", "PeggyFan")
publish_github("PeggyFan", "shinyapp")
publish_github("PeggyFan", "shinyapp")
publish_github("shinyapp", "PeggyFan")
publish_github("shinyapp", "PeggyFan")
publish_github("shinyapp", "PeggyFan")
setwd("/Users/peggyfan/Downloads/R_data/Developing_data_products/first_deck")
The analyses examine the data by gender and education attainment breakdown as those two criteria are relevant characteristcs to civic participation.
publish_github("shinyapp", "PeggyFan")
publish_github("shinyapp", "PeggyFan")
publish_github("shinyapp", "PeggyFan")
